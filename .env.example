# ========================================
# Self-Hosted Analytics Stack - Environment Configuration
# ========================================
#
# This is a template file. Copy it to create your configuration:
#   Windows: copy .env.example .env
#   Linux/Mac: cp .env.example .env
#
# Then edit .env with your custom values.
#
# ========================================

# ========================================
# PostgreSQL Database Configuration
# ========================================

# Database host (container name)
# Default: postgres (for new installations)
# Note: If migrating from older version, you may have postgres_main
POSTGRES_HOST=postgres

# Database port
POSTGRES_PORT=5432

# Database user
# This user will have full access to all databases
POSTGRES_USER=admin

# Database password
# SECURITY: Change this to a strong password!
# Generate with: openssl rand -base64 32
# Or PowerShell: -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})
POSTGRES_PASSWORD=INSECURE_DEFAULT_CHANGE_ME

# ========================================
# Database Names
# ========================================

# Main analytics database (for your data)
POSTGRES_DB=analytics

# n8n workflow automation database
POSTGRES_N8N_DB=n8n

# Metabase analytics app database
POSTGRES_METABASE_DB=metabase

# Prefect workflow orchestration database
POSTGRES_PREFECT_DB=prefect

# ========================================
# Timezone Configuration
# ========================================

# Timezone for all services
# Examples: UTC, America/New_York, Europe/London, Asia/Tokyo
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=UTC

# ========================================
# Optional: External Access Configuration
# ========================================
# Uncomment and configure these if exposing services via domain/tunnel

# n8n external access
#N8N_PROTOCOL=https
#N8N_HOST=n8n.yourdomain.com
#WEBHOOK_URL=https://n8n.yourdomain.com

# Metabase external access
#MB_SITE_URL=https://metabase.yourdomain.com

# Prefect external access
#PREFECT_API_URL=https://prefect.yourdomain.com/api

# ========================================
# SECURITY NOTES
# ========================================
#
# Default Configuration (Secure):
# - All services bind to localhost (127.0.0.1) only
# - Not accessible from network or internet
# - Safe for local development and personal use
#
# Before Exposing to Internet:
# - Change POSTGRES_PASSWORD to a strong password
# - Use HTTPS (set up reverse proxy or tunnel)
# - Review SECURITY.md for detailed guidance
#
# For Remote Access Options:
# - SSH Tunnel (most secure)
# - Cloudflare Tunnel (easy, free)
# - Tailscale (private network)
# - Reverse Proxy with SSL (advanced)
#
# See SECURITY.md for complete security guide
#
# ========================================